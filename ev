#!/usr/bin/python

import sys
import os

def compile(file_name, problem_name, file_type):
    if file_type == "c":
        os.system("gcc " + file_name + " -o " + problem_name)
    elif file_type == "cpp":
        os.system("g++ " + file_name + " -o " + problem_name)
    elif file_type == "java":
        os.system("javac " + file_name)
    else:
        pass

argument = sys.argv[1]
if not os.path.isfile(argument):
    print "No such file!"
    sys.exit(1)

file_name_struct = argument.split(".")
problem_name = file_name_struct[0]
file_type = file_name_struct[-1]

supported_files = ["c", "cpp", "py", "rb", "java"]
if file_type not in supported_files:
    print "Language not supported"
    sys.exit(1)

compile(argument, problem_name, file_type)
